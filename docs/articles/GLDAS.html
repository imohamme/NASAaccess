<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started with GLDAS data • NASAaccess</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with GLDAS data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NASAaccess</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/About.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/GLDAS.html">Getting started with GLDAS data</a></li>
    <li><a class="dropdown-item" href="../articles/GPM.html">Getting started with GPM data</a></li>
    <li><a class="dropdown-item" href="../articles/NEXGDDP-CMIP6.html">Getting started with NEXGDDP-CMIP6 data</a></li>
    <li><a class="dropdown-item" href="../articles/NEXGDDP.html">Getting started with NEXGDDP-CMIP5 data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/imohamme/NASAaccess/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting started with GLDAS data</h1>
                        <h4 data-toc-skip class="author">Ibrahim N.
Mohammed</h4>
            
            <h4 data-toc-skip class="date">2024-11-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/imohamme/NASAaccess/blob/HEAD/vignettes/GLDAS.Rmd"><code>vignettes/GLDAS.Rmd</code></a></small>
      <div class="d-none name"><code>GLDAS.Rmd</code></div>
    </div>

    
    
<p><em>NASAaccess</em> package has multiple functions such as
<code>GLDASwat</code> and <code>GLDASpolyCentroid</code> that download,
extract, and reformat air temperature data (‘Tair_f_inst’) of <a href="https://hydro1.gesdisc.eosdis.nasa.gov/dods/" class="external-link">GLDAS</a> from <a href="https://gpm.nasa.gov/data/directory" class="external-link">NASA servers</a> for grids
within a specified watershed shapefile. The
<code>GLDASpolyCentroid</code> and <code>GLDASswat</code> find the
minimum and maximum air temperatures for each day at each grid within
the study watershed by searching for minima and maxima over the three
hours air temperature data values available for each day and grid. The
<code>GLDASwat</code> and <code>GLDASpolyCentroid</code> functions
output gridded air temperature (maximum and minimum) data in degrees
‘C’.</p>
<p>Let’s explore <code>GLDASpolyCentroid</code> and
<code>GLDASswat</code> functions.</p>
<div class="section level2">
<h2 id="basic-use">Basic use<a class="anchor" aria-label="anchor" href="#basic-use"></a>
</h2>
<p>Let’s use the example watersheds that we introduced with
<code>GPMswat</code> and <code>GPMpolyCentroid</code>. Please visit
<em>NASAaccess</em> <a href="GPM.html">GPM</a> functions for more
information.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Reading input data</span></span>
<span></span>
<span><span class="va">dem_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,</span>
<span>                        <span class="st">"DEM_TX.tif"</span>,</span>
<span>                        package <span class="op">=</span> <span class="st">"NASAaccess"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">shape_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,</span>
<span>                          <span class="st">"basin.shp"</span>, </span>
<span>                          package <span class="op">=</span> <span class="st">"NASAaccess"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/imohamme/NASAaccess">NASAaccess</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/GLDASwat.html">GLDASwat</a></span><span class="op">(</span>Dir <span class="op">=</span> <span class="st">"./GLDASwat/"</span>,</span>
<span>                  watershed <span class="op">=</span> <span class="va">shape_path</span>,</span>
<span>                  DEM <span class="op">=</span> <span class="va">dem_path</span>,</span>
<span>                  start <span class="op">=</span> <span class="st">"2020-08-1"</span>,</span>
<span>                  end <span class="op">=</span> <span class="st">"2020-08-3"</span><span class="op">)</span></span></code></pre></div>
<p>Let’s examine the air temperature station file</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">GLDASwat.tempMaster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GLDASwat'</span>,</span>
<span>                                         <span class="st">'temp_Master.txt'</span>, </span>
<span>                                         package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">GLDASwat.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GLDASwat.tempMaster</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">GLDASwat.table</span><span class="op">)</span></span>
<span><span class="co">#&gt;       ID       NAME      LAT      LONG ELEVATION</span></span>
<span><span class="co">#&gt; 1 345937 temp345937 29.85021 -95.80842  46.64194</span></span>
<span><span class="co">#&gt; 2 345938 temp345938 29.85021 -95.55859  30.55108</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">GLDASwat.table</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2 5</span></span></code></pre></div>
<p><code>GLDASwat</code> generated ascii table for each available grid
located within the study watershed. <code>GLDASwat</code> also generated
the air temperature stations file input shown above
<em>GLDASwat.table</em> (table with columns: ID, File NAME, LAT, LONG,
and ELEVATION) for those selected grids that fall within the specified
watershed. The <a href="https://hydro1.gesdisc.eosdis.nasa.gov/dods/" class="external-link">GLDAS</a> dataset
used here is the <a href="https://disc.gsfc.nasa.gov/datasets/GLDAS_NOAH025_3H_2.1/summary" class="external-link">GLDAS
Noah Land Surface Model L4 3 hourly 0.25 x 0.25 degree V2.1</a>.</p>
<p>Now, let’s see the location of the <code>GLDASwat</code> generated
grid points</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/tidyterra/" class="external-link">tidyterra</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'tidyterra'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">shape</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  </span>
<span>  <span class="fu"><a href="https://dieghernan.github.io/tidyterra/reference/ggspatvector.html" class="external-link">geom_spatvector</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">'red'</span>,fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">GLDASwat.table</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">LONG</span>,y<span class="op">=</span><span class="va">LAT</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="GLDAS_files/figure-html/unnamed-chunk-4-1.png" alt="GLDAS data grids that fall within the boundaries of the White Oak Bayou watershed" width="672"></p>
<p>We note here that <code>GLDASwat</code> has given us all the <a href="https://disc.gsfc.nasa.gov/datasets/GLDAS_NOAH025_3H_2.1/summary" class="external-link">GLDAS</a>
data grids that fall within the boundaries of the White Oak Bayou study
watershed.</p>
<p>The time series air temperature data stored in the data tables (i.e.,
2 tables) can be viewed also. looking at air temperature reformatted
data from the first grid point as listed in the air temperature station
file is by</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">GLDASwat.point.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GLDASwat'</span>,</span>
<span>                              <span class="st">'temp345937.txt'</span>, </span>
<span>                              package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span></span>
<span><span class="co">#Reading data records</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GLDASwat.point.data</span><span class="op">)</span></span>
<span><span class="co">#&gt;                  X20200801</span></span>
<span><span class="co">#&gt; 32.1672399902343  23.28843</span></span>
<span><span class="co">#&gt; 33.0642431640625  22.76880</span></span>
<span><span class="co">#&gt; 33.7442358398437  22.91977</span></span></code></pre></div>
<p>The time series air temperature data has been written in a format
that gives daily maximum and minimum air temperature in degrees ‘C’.</p>
<p>Now, let’s examine <code>GPMpolyCentroid</code>.</p>
<p>Using the watershed example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/GLDASpolyCentroid.html">GLDASpolyCentroid</a></span><span class="op">(</span>Dir <span class="op">=</span> <span class="st">"./GLDASpolyCentroid/"</span>,</span>
<span>                  watershed <span class="op">=</span> <span class="va">shape_path</span>,</span>
<span>                  DEM <span class="op">=</span> <span class="va">dem_path</span>,</span>
<span>                  start <span class="op">=</span> <span class="st">"2018-08-1"</span>,</span>
<span>                  end <span class="op">=</span> <span class="st">"2018-08-3"</span><span class="op">)</span></span></code></pre></div>
<p>Now let’s examine the <code>GLDASpolyCentroid</code> generated
outputs</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/tidyterra/" class="external-link">tidyterra</a></span><span class="op">)</span></span>
<span><span class="va">GLDASpolyCentroid.tempMaster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GLDASpolyCentroid'</span>,</span>
<span>                              <span class="st">'temp_Master.txt'</span>, </span>
<span>                                package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">GLDASpolyCentroid.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GLDASpolyCentroid.tempMaster</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">shape</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  </span>
<span>  <span class="fu"><a href="https://dieghernan.github.io/tidyterra/reference/ggspatvector.html" class="external-link">geom_spatvector</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">'red'</span>,fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">GLDASpolyCentroid.table</span>,</span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">LONG</span>,y<span class="op">=</span><span class="va">LAT</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">96</span>,<span class="op">-</span><span class="fl">95.2</span><span class="op">)</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">29.7</span>,<span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="GLDAS_files/figure-html/unnamed-chunk-7-1.png" alt="A pseudo air temperature gauge located at the centroid of the White Oak Bayou watershed" width="672"></p>
<p>We note here that <code>GLDASpolyCentroid</code> has given us the <a href="https://disc.gsfc.nasa.gov/datasets/GLDAS_NOAH025_3H_2.1/summary" class="external-link">GLDAS</a>
data grid that fall within our specified watershed and assigns a pseudo
air temperature gauge located at the centroid of the watershed a
weighted-average daily maximum and minimum air temperature data.</p>
</div>
<div class="section level2">
<h2 id="built-with">Built with<a class="anchor" aria-label="anchor" href="#built-with"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">#&gt; Platform: aarch64-apple-darwin20</span></span>
<span><span class="co">#&gt; Running under: macOS 15.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: Asia/Dubai</span></span>
<span><span class="co">#&gt; tzcode source: internal</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] tidyterra_0.6.1 ggplot2_3.5.1   terra_1.7-78   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] sass_0.4.9         utf8_1.2.4         generics_0.1.3     tidyr_1.3.1       </span></span>
<span><span class="co">#&gt;  [5] class_7.3-22       KernSmooth_2.23-24 digest_0.6.37      magrittr_2.0.3    </span></span>
<span><span class="co">#&gt;  [9] evaluate_1.0.1     grid_4.4.1         fastmap_1.2.0      jsonlite_1.8.9    </span></span>
<span><span class="co">#&gt; [13] e1071_1.7-16       DBI_1.2.3          purrr_1.0.2        fansi_1.0.6       </span></span>
<span><span class="co">#&gt; [17] scales_1.3.0       codetools_0.2-20   textshaping_0.4.0  jquerylib_0.1.4   </span></span>
<span><span class="co">#&gt; [21] cli_3.6.3          rlang_1.1.4        units_0.8-5        munsell_0.5.1     </span></span>
<span><span class="co">#&gt; [25] withr_3.0.2        cachem_1.1.0       yaml_2.3.10        tools_4.4.1       </span></span>
<span><span class="co">#&gt; [29] dplyr_1.1.4        colorspace_2.1-1   vctrs_0.6.5        R6_2.5.1          </span></span>
<span><span class="co">#&gt; [33] proxy_0.4-27       lifecycle_1.0.4    classInt_0.4-10    fs_1.6.5          </span></span>
<span><span class="co">#&gt; [37] htmlwidgets_1.6.4  ragg_1.3.3         pkgconfig_2.0.3    desc_1.4.3        </span></span>
<span><span class="co">#&gt; [41] pkgdown_2.1.1      pillar_1.9.0       bslib_0.8.0        gtable_0.3.6      </span></span>
<span><span class="co">#&gt; [45] glue_1.8.0         Rcpp_1.0.13        sf_1.0-18          systemfonts_1.1.0 </span></span>
<span><span class="co">#&gt; [49] highr_0.11         xfun_0.49          tibble_3.2.1       tidyselect_1.2.1  </span></span>
<span><span class="co">#&gt; [53] rstudioapi_0.17.1  knitr_1.48         farver_2.1.2       htmltools_0.5.8.1 </span></span>
<span><span class="co">#&gt; [57] rmarkdown_2.28     compiler_4.4.1</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ibrahim Mohammed.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
