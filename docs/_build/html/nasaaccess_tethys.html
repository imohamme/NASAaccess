<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. NASAaccess Tethys Guide &mdash; NASAaccess 3.3.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="1. NASAaccess R Guide" href="nasaaccess_R.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            NASAaccess
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="nasaaccess_R.html">1. NASAaccess R package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. NASAaccess Tethys App</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about">2.1. About</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-it-works">2.2. How it works</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requirements">2.3. Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-setup">2.4. Installation/Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source-code">2.5. Source Code</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NASAaccess</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">2. </span>NASAaccess Tethys Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/nasaaccess_tethys.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="nasaaccess-tethys-guide">
<h1><span class="section-number">2. </span>NASAaccess Tethys Guide<a class="headerlink" href="#nasaaccess-tethys-guide" title="Permalink to this heading"></a></h1>
<a class="reference internal image-reference" href="_images/nasaaccess.png"><img alt="_images/nasaaccess.png" class="align-center" src="_images/nasaaccess.png" style="width: 180.8px; height: 180.8px;" /></a>
<div class="section" id="about">
<h2><span class="section-number">2.1. </span>About<a class="headerlink" href="#about" title="Permalink to this heading"></a></h2>
<p>The <strong>NASAaccess</strong> platform is available as software packages (i.e., R and conda packages) as well as an interactive format web-based environmental modeling application for earth observation data developed in the Tethys Platform framework (<a class="reference external" href="https://www.tethysplatform.org/">https://www.tethysplatform.org/</a>). <strong>NASAaccess</strong> software can generate gridded ascii tables of climate <a class="reference external" href="https://pcmdi.llnl.gov/mips/cmip5/">CMIP5</a>, <a class="reference external" href="https://pcmdi.llnl.gov/CMIP6/">CMIP6</a>, and earth observation remote sensing data (<a class="reference external" href="https://gpm.nasa.gov/data/directory">GPM</a>, <a class="reference external" href="https://gpm.nasa.gov/missions/trmm">TRMM</a>, <a class="reference external" href="https://ldas.gsfc.nasa.gov/gldas">GLDAS</a>) needed to drive various hydrological models (e.g., <a class="reference external" href="https://github.com/UW-Hydro/VIC">VIC</a>, <a class="reference external" href="https://github.com/RHESSys/RHESSys">RHESSys</a>, <a class="reference external" href="https://swat.tamu.edu/">SWAT</a> …etc.).  The NASAaccess has been envisioned to lower the technical barrier and simplify the process of accessing scalable distributed computing resources and leverage additional software for data and computationally intensive modeling frameworks. <strong>NASAaccess</strong> Tethys web-based application can be used for accessing, reformatting, and visualizing climate and earth observation remote sensing gridded time series data as well.</p>
<a class="reference internal image-reference" href="_images/nasaaccess_home_window_res.png"><img alt="_images/nasaaccess_home_window_res.png" class="align-center" src="_images/nasaaccess_home_window_res.png" style="width: 597.6px; height: 373.2px;" /></a>
</div>
<div class="section" id="how-it-works">
<h2><span class="section-number">2.2. </span>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this heading"></a></h2>
<p>The <strong>NASAaccess</strong> Tethys Application is simply a user interface for passing arguments into the <strong>NASAaccess</strong>
functions by calling the <cite>r-nasaaccess</cite> conda package (<a class="reference external" href="https://anaconda.org/conda-forge/r-nasaaccess">https://anaconda.org/conda-forge/r-nasaaccess</a>). Using a combination of dropdowns, datepickers, and checkboxes, the app allows the user to select a watershed boundary, DEM, date range, and NASAaccess function(s) to pass to the server for running the selected <strong>NASAaccess</strong> function(s).</p>
</div>
<div class="section" id="requirements">
<h2><span class="section-number">2.3. </span>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Windows:</dt><dd><p>Setup a VirtualBox Machine via <a class="reference external" href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Windows/MacOS/Linux:</dt><dd><p>Anaconda (<a class="reference external" href="https://docs.anaconda.com/anaconda/install/index.html">https://docs.anaconda.com/anaconda/install/index.html</a>)  or miniconda (<a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">https://docs.conda.io/en/latest/miniconda.html</a>)</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="installation-setup">
<h2><span class="section-number">2.4. </span>Installation/Setup<a class="headerlink" href="#installation-setup" title="Permalink to this heading"></a></h2>
<ul>
<li><dl class="simple">
<dt>EarthData:</dt><dd><p><strong>NASAaccess</strong> needs a user registration access with Earthdata (<a class="reference external" href="https://www.earthdata.nasa.gov/">https://www.earthdata.nasa.gov/</a>). Users should set up a registration account(s) with Earthdata login as well as authorizing NASA GES DISC data access. Please refer to <a class="reference external" href="https://disc.gsfc.nasa.gov/data-access">https://disc.gsfc.nasa.gov/data-access</a> for further details.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>Tethys:</dt><dd><blockquote>
<div><p>The <strong>NASAaccess</strong> Tethys Application requires the Tethys Platform to be installed beforehand. The Tethys Platform Framework installation process can be installed in a development and production environment. There is a couple of differences between both installations:</p>
<blockquote>
<div><ul class="simple">
<li><p>The production installation uses a combination of the NGINX and Daphne servers.</p></li>
<li><p>Changes Are Not Automatically Loaded in the production server, but in the development server</p></li>
<li><p>Debug Disabled to prevent sensitive information from being leaked in the production server</p></li>
<li><p>Static Files Collected  are collected to one location to be served more efficiently by NGINX.</p></li>
<li><p>Workspaces are collected to one location so they can be more easily backed up.</p></li>
<li><p>NGINX is given permission to access the static files and workspaces to be able to serve them.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<ul>
<li><dl>
<dt>Development:</dt><dd><p>The installation of tethys in a development environment serves to contribute to the development of new applications and of the Tethys platform itself. The following are the required steps:</p>
<blockquote>
<div><p>1. Create  a new conda environment and install the Tethys Platform by running the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">tethys</span> <span class="o">-</span><span class="n">c</span> <span class="n">tethysplatform</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">tethys</span><span class="o">-</span><span class="n">platform</span>
</pre></div>
</div>
<p>2. Activate the Tethys conda Environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">tethys</span>
</pre></div>
</div>
<p>3. Generate a portal_config.yml file containing custom configurations such as the database and other local settings by running the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tethys</span> <span class="n">gen</span> <span class="n">portal_config</span>
</pre></div>
</div>
<ol class="arabic" start="4">
<li><p>Tethys Platform requires a PostgreSQL database server. There are several options for setting up a DB server: local, docker, or dedicated. The Tethys platform can also be used to create a local server that creates and migrates the tables associated with the Tethys platform framework by running:</p>
<blockquote>
<div><p>a. Local instance</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tethys</span> <span class="n">db</span> <span class="n">configure</span>
</pre></div>
</div>
<p>b. Docker local instance (requires docker installed beforehand)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tethys</span> <span class="n">docker</span> <span class="n">init</span> <span class="o">-</span><span class="n">c</span> <span class="n">postgis</span>

<span class="n">tethys</span> <span class="n">docker</span> <span class="n">start</span> <span class="o">-</span><span class="n">c</span> <span class="n">postgis</span>

<span class="n">PGPASSWORD</span><span class="o">=&lt;</span><span class="n">POSTGRES_PASSWORD</span><span class="o">&gt;</span> <span class="n">tethys</span> <span class="n">db</span> <span class="n">configure</span> <span class="o">--</span><span class="n">username</span> <span class="o">&lt;</span><span class="n">TETHYS_DB_USERNAME</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">password</span> <span class="o">&lt;</span><span class="n">TETHYS_DB_PASSWORD</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">superuser</span><span class="o">-</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">TETHYS_DB_SUPER_USERNAME</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">superuser</span><span class="o">-</span><span class="n">password</span> <span class="o">&lt;</span><span class="n">TETHYS_DB_SUPER_PASSWORD</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">portal</span><span class="o">-</span><span class="n">superuser</span><span class="o">-</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">PORTAL_SUPERUSER_USERNAME</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">portal</span><span class="o">-</span><span class="n">superuser</span><span class="o">-</span><span class="n">email</span> <span class="s1">&#39;&lt;PORTAL_SUPERUSER_EMAIL&gt;&#39;</span> <span class="o">--</span><span class="n">portal</span><span class="o">-</span><span class="n">superuser</span><span class="o">-</span><span class="k">pass</span> <span class="o">&lt;</span><span class="n">PORTAL_SUPERUSER_PASSWORD</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>5. Install <cite>r-nasaaccess</cite> in the tethsy environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">r</span><span class="o">-</span><span class="n">nasaaccess</span>
</pre></div>
</div>
<p>6. Initialize tables in persistent store databases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tethys</span> <span class="n">syncstores</span> <span class="n">nasaaccess</span>
</pre></div>
</div>
<p>7. Finally start the Tethys development server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tethys</span> <span class="n">manage</span> <span class="n">start</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</li>
<li><p>Production:</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="source-code">
<h2><span class="section-number">2.5. </span>Source Code<a class="headerlink" href="#source-code" title="Permalink to this heading"></a></h2>
<p>The NASAaccess source code is available on Github:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/imohamme/tethys_nasaaccess">https://github.com/imohamme/tethys_nasaaccess</a></p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nasaaccess_R.html" class="btn btn-neutral float-left" title="1. NASAaccess R Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Ibrahim Mohammed.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>